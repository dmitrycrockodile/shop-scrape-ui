{"version":3,"file":"Edit-wHz-T0xp.js","sources":["../../src/views/pack-size/Edit.vue"],"sourcesContent":["<script>\nimport { mapGetters, mapActions } from \"vuex\";\n\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\n\nimport { updatePackSize } from \"@/services/packSizesService\";\n\nexport default {\n  name: \"Pack Size Edit\",\n  components: {\n    ArgonInput,\n    ArgonButton,\n  },\n  data() {\n    return {\n      updatePackSizeForm: {\n        name: \"\",\n        weight: \"\",\n        weight_unit: \"\",\n        amount: \"\",\n      },\n      loading: false,\n      validationErrors: {},\n    };\n  },\n  computed: {\n    ...mapGetters(\"packSizes\", [\"getPackSizes\"]),\n    packSizeId() {\n      return this.$route.params.id;\n    },\n    selectedPackSize() {\n      return this.getPackSizes.find(\n        (packSize) => packSize.id == this.packSizeId\n      );\n    },\n  },\n  watch: {\n    selectedPackSize: {\n      immediate: true,\n      handler(newPackSize) {\n        if (newPackSize) {\n          this.updatePackSizeForm = {\n            name: newPackSize.name,\n            weight: newPackSize.weight,\n            weight_unit: newPackSize.weight_unit,\n            amount: newPackSize.amount,\n          };\n        }\n      },\n    },\n  },\n  methods: {\n    ...mapActions(\"packSizes\", [\"updatePackSize\"]),\n    async handleUpdate() {\n      this.validationErrors = {};\n      const res = await updatePackSize(\n        this.updatePackSizeForm,\n        this.packSizeId\n      );\n\n      if (res.success) {\n        this.updatePackSize(res.data);\n        this.$router.push(\"/pack-sizes\");\n      } else {\n        if (res.errors) {\n          this.validationErrors = res.errors;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-lg-8 col-md-8 mx-auto\">\n        <div class=\"card\">\n          <div class=\"card-header pb-0 text-center\">\n            <h6 class=\"text-primary\">Edit Pack Size</h6>\n          </div>\n\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleUpdate\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Name</label>\n                <argon-input\n                  v-model.trim.lazy=\"updatePackSizeForm.name\"\n                  type=\"text\"\n                  placeholder=\"Enter pack size name\"\n                  required\n                />\n                <div v-if=\"validationErrors.name\" class=\"text-danger\">\n                  {{ validationErrors.name[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Weight</label>\n                <argon-input\n                  v-model.trim.lazy=\"updatePackSizeForm.weight\"\n                  type=\"number\"\n                  placeholder=\"Enter weight\"\n                  required\n                  min=\"0\"\n                />\n                <div v-if=\"validationErrors.weight\" class=\"text-danger\">\n                  {{ validationErrors.weight[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Weight Unit</label>\n                <argon-input\n                  v-model.trim.lazy=\"updatePackSizeForm.weight_unit\"\n                  type=\"text\"\n                  placeholder=\"kg, g, l, ml\"\n                  required\n                  maxlength=\"10\"\n                />\n                <div v-if=\"validationErrors.weight_unit\" class=\"text-danger\">\n                  {{ validationErrors.weight_unit[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Amount</label>\n                <argon-input\n                  v-model.trim.lazy=\"updatePackSizeForm.amount\"\n                  type=\"number\"\n                  placeholder=\"Enter amount\"\n                  required\n                />\n                <div v-if=\"validationErrors.amount\" class=\"text-danger\">\n                  {{ validationErrors.amount[0] }}\n                </div>\n              </div>\n\n              <div class=\"text-center\">\n                <argon-button type=\"submit\" color=\"primary\" :disabled=\"loading\">\n                  {{ loading ? \"Updating...\" : \"Update Pack Size\" }}\n                </argon-button>\n                <argon-button\n                  color=\"secondary\"\n                  class=\"ms-2\"\n                  @click=\"$router.push('/pack-sizes')\"\n                >\n                  Cancel\n                </argon-button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","ArgonInput","ArgonButton","mapGetters","packSize","newPackSize","mapActions","res","updatePackSize","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_14","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_createVNode","_component_argon_input","$data","$event","_hoisted_7","_toDisplayString","_createCommentVNode","_hoisted_9","_hoisted_11","_hoisted_13","_component_argon_button","_withCtx","_createTextVNode","_ctx"],"mappings":"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"}