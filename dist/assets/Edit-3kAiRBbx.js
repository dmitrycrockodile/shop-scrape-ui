import{_ as y,a as b,m as _,b as h,l as R,d as s,e as t,n as E,i as a,f as n,g as u,t as d,w as g,h as f,o as i}from"./index-Cm14stn1.js";import{C as x}from"./CurrencySelect-TxCfRDJO.js";import{u as F}from"./retailersService-BhBbV2k4.js";const V={name:"Retailer Edit",components:{ArgonInput:R,ArgonButton:h,CurrencySelect:x},data(){return{updateRetailerForm:{title:"",logo:"",url:"",currency_id:null},loading:!1,validationErrors:{}}},computed:{..._("retailers",["getRetailers"]),..._({currencies:"currencies/getCurrencies"}),retailerId(){return this.$route.params.id},selectedRetailer(){return this.getRetailers.find(o=>o.id==this.retailerId)}},watch:{selectedRetailer:{immediate:!0,handler(o){o&&(this.updateRetailerForm={title:o.title,logo:o.logo,url:o.url,currency_id:o.currency.id})}}},methods:{...b("retailers",["updateRetailer"]),async handleUpdate(){this.validationErrors={};const o=await F(this.updateRetailerForm,this.$refs.logoFile.files[0],this.retailerId);o.success?(this.updateRetailer(o.data),this.$router.push({name:"Retailers"})):o.errors&&(this.validationErrors=o.errors)}}},U={class:"container-fluid py-4 flex-grow-1"},C={class:"row"},k={class:"col-lg-6 col-md-8 mx-auto w-75"},w={class:"card"},B={class:"card-body"},I={class:"mb-3"},N={key:0,class:"text-danger"},A={class:"mb-3"},L=["src"],S={ref:"logoFile",type:"file",class:"form-control",accept:"image/*",placeholder:"Upload a new logo"},q={key:1,class:"text-danger"},T={class:"mb-3"},D={key:0,class:"text-danger"},G={class:"mb-3 w-25"},M={key:0,class:"text-danger"},j={class:"text-center"};function z(o,e,H,J,r,c){const m=u("argon-input"),v=u("currency-select"),p=u("argon-button");return i(),s("div",U,[t("div",C,[t("div",k,[t("div",w,[e[10]||(e[10]=t("div",{class:"card-header pb-0 text-center"},[t("h6",{class:"text-primary"},"Edit Retailer")],-1)),t("div",B,[t("form",{onSubmit:e[4]||(e[4]=E((...l)=>c.handleUpdate&&c.handleUpdate(...l),["prevent"]))},[t("div",I,[e[5]||(e[5]=t("label",{class:"form-label"},"Retailer Title",-1)),a(m,{modelValue:r.updateRetailerForm.title,"onUpdate:modelValue":e[0]||(e[0]=l=>r.updateRetailerForm.title=l),type:"text",placeholder:"Enter retailer name",required:""},null,8,["modelValue"]),r.validationErrors.title?(i(),s("div",N,d(r.validationErrors.title[0]),1)):n("",!0)]),t("div",A,[e[6]||(e[6]=t("label",{class:"form-label"},"Logo",-1)),t("div",null,[r.updateRetailerForm.logo?(i(),s("img",{key:0,src:r.updateRetailerForm.logo,alt:"Current logo",class:"img-fluid mb-4 w-50"},null,8,L)):n("",!0),t("input",S,null,512),r.validationErrors.logo?(i(),s("div",q,d(r.validationErrors.logo[0]),1)):n("",!0)])]),t("div",T,[e[7]||(e[7]=t("label",{class:"form-label"},"URL",-1)),a(m,{modelValue:r.updateRetailerForm.url,"onUpdate:modelValue":e[1]||(e[1]=l=>r.updateRetailerForm.url=l),type:"url",placeholder:"Enter URL",required:""},null,8,["modelValue"]),r.validationErrors.url?(i(),s("div",D,d(r.validationErrors.url[0]),1)):n("",!0)]),t("div",G,[e[8]||(e[8]=t("label",{class:"form-label"},"Currency",-1)),a(v,{options:o.currencies,modelValue:r.updateRetailerForm.currency_id,"onUpdate:modelValue":e[2]||(e[2]=l=>r.updateRetailerForm.currency_id=l),name:"currency"},null,8,["options","modelValue"]),r.validationErrors.currency_id?(i(),s("div",M,d(r.validationErrors.currency_id[0]),1)):n("",!0)]),t("div",j,[a(p,{type:"submit",color:"primary",disabled:r.loading},{default:g(()=>[f(d(r.loading?"Updating...":"Update Retailer"),1)]),_:1},8,["disabled"]),a(p,{color:"secondary",class:"ms-2",onClick:e[3]||(e[3]=l=>o.$router.push("/retailers"))},{default:g(()=>e[9]||(e[9]=[f(" Cancel ")])),_:1})])],32)])])])])])}const Q=y(V,[["render",z]]);export{Q as default};
//# sourceMappingURL=Edit-3kAiRBbx.js.map
