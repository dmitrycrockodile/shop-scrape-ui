{"version":3,"file":"Index-CLyHSW35.js","sources":["../../src/views/components/CurrenciesTable.vue","../../src/services/currenciesService.js","../../src/views/currency/Index.vue"],"sourcesContent":["<script>\nexport default {\n  name: \"Currencies Table\",\n  props: {\n    currencies: { type: Array, required: true },\n  },\n};\n</script>\n\n<template>\n  <div class=\"card m-auto\">\n    <div\n      class=\"card-header pb-3 d-flex align-items-center justify-content-between\"\n    >\n      <h6 class=\"pe-4\">Currencies</h6>\n\n      <slot name=\"create-button\"></slot>\n    </div>\n    <div class=\"card-body px-0 pt-0 pb-2\">\n      <div class=\"table-responsive ps-4\">\n        <table class=\"table align-items-center mb-0 fs-7\">\n          <thead>\n            <tr>\n              <th\n                class=\"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2\"\n              >\n                Code\n              </th>\n              <th\n                class=\"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7\"\n              >\n                Name\n              </th>\n              <th\n                class=\"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7\"\n              >\n                Symbol\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <h6 class=\"ms-4 mt-2\" v-if=\"!currencies.length\">\n              There are no available currencies\n            </h6>\n            <tr v-for=\"currency in currencies\" :key=\"currency.id\">\n              <td>\n                <p class=\"font-weight-bold mb-0\">{{ currency.code }}</p>\n              </td>\n              <td>\n                <p class=\"font-weight-bold mb-0\">{{ currency.name }}</p>\n              </td>\n              <td class=\"align-middle\">\n                <p class=\"font-weight-bold mb-0\">{{ currency.symbol }}</p>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n","import axios from \"axios\";\nimport { handleResponse, handleError } from \"../utils/helpers\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nexport const fetchCurrencies = async (dataPerPage, page) => {\n    try {\n        const res = await axios.get(`${BASE_API_URL}/currencies`, {\n            params: { \n                dataPerPage, \n                page \n            }\n        });\n        return handleResponse(res);\n    } catch (err) {\n        return handleError(err);\n    }\n}","<script>\nimport CurrenciesTable from \"../components/CurrenciesTable.vue\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport { fetchCurrencies } from \"@/services/currenciesService\";\nimport Pagination from \"@/components/Pagination.vue\";\n\nexport default {\n  name: \"Currency Index\",\n  mounted() {\n    this.handleCurrenciesFetch();\n  },\n  data() {\n    return {\n        page: 1,\n        dataPerPage: 30,\n      // isPageLoading: true,\n      // isCurrenciesLoading: true,\n    };\n  },\n  components: {\n    CurrenciesTable,\n    Pagination\n  },\n  computed: {\n    ...mapGetters({\n      currencies: \"currencies/getCurrencies\",\n      pagination: \"packSizes/getMetadata\",\n    }),\n  },\n  methods: {\n    ...mapActions({\n      setCurrencies: \"currencies/setCurrencies\",\n      setMetaData: \"packSizes/setMetaData\",\n    }),\n    async handleCurrenciesFetch() {\n      const res = await fetchCurrencies(this.dataPerPage, this.page);\n\n      if (res.success) {\n        this.setCurrencies(res.data);\n        this.setMetaData(res.meta);\n      }\n    },\n    setPage(newPage) {\n      this.page = newPage;\n    },\n  },\n  watch: {\n    page() {\n      this.handleCurrenciesFetch();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"pt-6 pb-4 flex-grow-1\">\n    <CurrenciesTable :currencies=\"currencies\" />\n\n    <div class=\"mt-4\">\n        <Pagination v-if=\"pagination.last_page > 1\" :pagination=\"pagination\" @setPage=\"setPage\" />\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_createElementVNode","_cache","_renderSlot","_ctx","$props","_createCommentVNode","_hoisted_6","_Fragment","_renderList","currency","_toDisplayString","fetchCurrencies","dataPerPage","page","res","axios","BASE_API_URL","handleResponse","err","handleError","CurrenciesTable","Pagination","mapGetters","mapActions","newPage","_createVNode","_component_CurrenciesTable","_createBlock","_component_Pagination","$options"],"mappings":"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"}