import{_ as g,b,l as y,d as i,e as t,n as P,i as l,F as A,r as C,w as m,h as p,g as f,t as _,o as n,f as h}from"./index-Cm14stn1.js";import{a as V}from"./retailersService-BhBbV2k4.js";const k={name:"RetailerProductsAdd",components:{ArgonInput:y,ArgonButton:b},data(){return{productsToAdd:[{id:null,url:""}],loading:!1,validationErrors:{}}},computed:{retailerId(){return this.$route.params.id}},methods:{addProduct(){this.productsToAdd.push({id:null,url:""})},removeProduct(r){this.productsToAdd.splice(r,1)},async handleCreate(){this.loading=!0,this.validationErrors={};const r=await V(this.retailerId,this.productsToAdd);r.success?(this.$router.push({name:"Retailers"}),this.loading=!1):(r.errors&&(this.validationErrors=r.errors),this.loading=!1)}}},E={class:"container-fluid py-4 flex-grow-1"},x={class:"row"},T={class:"col-lg-6 col-md-8 mx-auto"},w={class:"card"},I={class:"card-body"},R={class:"mb-3"},U={class:"d-flex"},B={class:"mb-3"},N={key:0,class:"text-danger"},S={class:"mb-3"},$={key:0,class:"text-danger"},q={class:"text-center"};function D(r,e,F,L,o,a){const v=f("argon-input"),u=f("argon-button");return n(),i("div",E,[t("div",x,[t("div",T,[t("div",w,[e[6]||(e[6]=t("div",{class:"card-header pb-0 text-center"},[t("h6",{class:"text-primary"},"Add Products to Retailer")],-1)),t("div",I,[t("form",{onSubmit:e[1]||(e[1]=P((...s)=>a.handleCreate&&a.handleCreate(...s),["prevent"]))},[t("div",R,[e[4]||(e[4]=t("label",{class:"form-label"},"Products",-1)),(n(!0),i(A,null,C(o.productsToAdd,(s,d)=>(n(),i("div",{key:d,class:"mb-2"},[t("div",U,[t("div",B,[l(v,{modelValue:s.id,"onUpdate:modelValue":c=>s.id=c,type:"number",placeholder:"Product ID",class:"me-2",required:""},null,8,["modelValue","onUpdate:modelValue"]),o.validationErrors[`products.${d}.id`]?(n(),i("div",N,_(o.validationErrors[`products.${d}.id`][0]),1)):h("",!0)]),t("div",S,[l(v,{modelValue:s.url,"onUpdate:modelValue":c=>s.url=c,modelModifiers:{trim:!0,lazy:!0},type:"url",placeholder:"Product URL",class:"me-2",required:""},null,8,["modelValue","onUpdate:modelValue"]),o.validationErrors[`products.${d}.url`]?(n(),i("div",$,_(o.validationErrors[`products.${d}.url`][0]),1)):h("",!0)]),l(u,{class:"h-100",color:"danger",disabled:o.productsToAdd.length<=1,onClick:c=>a.removeProduct(d),type:"button"},{default:m(()=>e[2]||(e[2]=[p("Remove")])),_:2},1032,["disabled","onClick"])])]))),128)),l(u,{color:"primary",onClick:a.addProduct,type:"button"},{default:m(()=>e[3]||(e[3]=[p("Add Product")])),_:1},8,["onClick"])]),t("div",q,[l(u,{type:"submit",color:"primary",disabled:o.loading},{default:m(()=>[p(_(o.loading?"Saving...":"Save Products"),1)]),_:1},8,["disabled"]),l(u,{color:"secondary",class:"ms-2",onClick:e[0]||(e[0]=s=>r.$router.push(`/retailers/${a.retailerId}/products`))},{default:m(()=>e[5]||(e[5]=[p(" Cancel ")])),_:1})])],32)])])])])])}const j=g(k,[["render",D]]);export{j as default};
//# sourceMappingURL=AddProduct-B6KUJy0M.js.map
