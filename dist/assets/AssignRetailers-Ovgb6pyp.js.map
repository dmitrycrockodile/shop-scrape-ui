{"version":3,"file":"AssignRetailers-Ovgb6pyp.js","sources":["../../src/views/user/AssignRetailers.vue"],"sourcesContent":["<script>\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\nimport { assignRetailers } from \"@/services/usersService\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"User Retailers Assign\",\n  components: {\n    ArgonInput,\n    ArgonButton,\n  },\n  data() {\n    return {\n      retailersToAdd: [{ id: null }],\n      loading: false,\n      validationErrors: {},\n    };\n  },\n  computed: {\n    userId() {\n      return this.$route.params.id;\n    },\n  },\n  methods: {\n    ...mapActions(\"users\", [\"updateUserRetailers\"]),\n    addRetailer() {\n      this.retailersToAdd.push({ id: null });\n    },\n    removeRetailer(index) {\n      this.retailersToAdd.splice(index, 1);\n    },\n    async handleAssign() {\n      this.loading = true;\n\n      const res = await assignRetailers(this.userId, this.retailersToAdd);\n\n      if (res.success) {\n        this.updateUserRetailers({ id: this.userId, retailers: res.data });\n        this.$router.push(`/users/${this.userId}/retailers`);\n      } else {\n        if (res.errors) {\n          this.validationErrors = res.errors;\n        }\n      }\n\n      this.loading = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-md-8 mx-auto\">\n        <div class=\"card\">\n          <div class=\"card-header pb-0 text-center\">\n            <h6 class=\"text-primary\">Assign Retailers</h6>\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleAssign\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Retailers</label>\n                <div\n                  v-for=\"(retailer, index) in retailersToAdd\"\n                  :key=\"retailer\"\n                  class=\"mb-2\"\n                >\n                  <div class=\"d-flex\">\n                    <argon-input\n                      v-model=\"retailer.id\"\n                      type=\"number\"\n                      placeholder=\"Retailer ID\"\n                      class=\"me-2\"\n                      required\n                    />\n\n                    <argon-button\n                      class=\"h-100\"\n                      color=\"danger\"\n                      :disabled=\"retailersToAdd.length <= 1\"\n                      @click=\"removeRetailer(index)\"\n                      type=\"button\"\n                      >Remove</argon-button\n                    >\n                  </div>\n\n                  <div\n                    v-if=\"validationErrors[`retailers.${index}.id`]\"\n                    class=\"text-danger\"\n                  >\n                    {{ validationErrors[`retailers.${index}.id`][0] }}\n                  </div>\n                </div>\n                <argon-button color=\"primary\" @click=\"addRetailer\" type=\"button\"\n                  >Add Retailer</argon-button\n                >\n              </div>\n              <div class=\"text-center\">\n                <argon-button type=\"submit\" color=\"primary\" :disabled=\"loading\">\n                  {{ loading ? \"Saving...\" : \"Save Retailers\" }}\n                </argon-button>\n                <argon-button\n                  color=\"secondary\"\n                  class=\"ms-2\"\n                  @click=\"$router.push(`/retailers/${retailerId}/products`)\"\n                >\n                  Cancel\n                </argon-button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","ArgonInput","ArgonButton","mapActions","index","res","assignRetailers","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_Fragment","_renderList","$data","retailer","_createVNode","_component_argon_input","$event","_component_argon_button","_withCtx","_createTextVNode","_hoisted_8","_toDisplayString","_createCommentVNode","_ctx"],"mappings":"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"}