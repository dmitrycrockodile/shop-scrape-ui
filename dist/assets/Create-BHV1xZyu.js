import{_ as v,a as y,m as b,b as R,l as C,d as s,e as t,n as h,i as a,f as n,g as c,t as d,w as _,h as f,o as i}from"./index-Cm14stn1.js";import{C as E}from"./CurrencySelect-TxCfRDJO.js";import{c as x}from"./retailersService-BhBbV2k4.js";const V={name:"Retailer Create",components:{ArgonInput:C,ArgonButton:R,CurrencySelect:E},data(){return{createRetailerForm:{title:"",logo:"",url:"",currency_id:null},loading:!1,validationErrors:{}}},computed:{...b({currencies:"currencies/getCurrencies"})},methods:{...y("retailers",["addRetailer"]),async handleCreate(){this.validationErrors={};const l=await x(this.createRetailerForm,this.$refs.logoFile.files[0]);l.success?(this.addRetailer(l.data),this.$router.push({name:"Retailers"})):l.errors&&(this.validationErrors=l.errors)}}},F={class:"container-fluid py-4 flex-grow-1"},w={class:"row"},k={class:"col-lg-6 col-md-8 mx-auto w-75"},U={class:"card"},B={class:"card-body"},N={class:"mb-3"},A={key:0,class:"text-danger"},L={class:"mb-3"},M=["src"],S={ref:"logoFile",type:"file",class:"form-control",accept:"image/*",placeholder:"Upload a new logo"},q={key:1,class:"text-danger"},z={class:"mb-3"},T={key:0,class:"text-danger"},D={class:"mb-3 w-25"},G={key:0,class:"text-danger"},I={class:"text-center"};function j(l,e,H,J,r,u){const m=c("argon-input"),g=c("currency-select"),p=c("argon-button");return i(),s("div",F,[t("div",w,[t("div",k,[t("div",U,[e[10]||(e[10]=t("div",{class:"card-header pb-0 text-center"},[t("h6",{class:"text-primary"},"Create Retailer")],-1)),t("div",B,[t("form",{onSubmit:e[4]||(e[4]=h((...o)=>u.handleCreate&&u.handleCreate(...o),["prevent"]))},[t("div",N,[e[5]||(e[5]=t("label",{class:"form-label"},"Retailer Title",-1)),a(m,{modelValue:r.createRetailerForm.title,"onUpdate:modelValue":e[0]||(e[0]=o=>r.createRetailerForm.title=o),modelModifiers:{trim:!0,lazy:!0},type:"text",placeholder:"Enter retailer name",required:""},null,8,["modelValue"]),r.validationErrors.title?(i(),s("div",A,d(r.validationErrors.title[0]),1)):n("",!0)]),t("div",L,[e[6]||(e[6]=t("label",{class:"form-label"},"Logo",-1)),t("div",null,[r.createRetailerForm.logo?(i(),s("img",{key:0,src:r.createRetailerForm.logo,alt:"Current logo",class:"img-fluid mb-2"},null,8,M)):n("",!0),t("input",S,null,512),r.validationErrors.logo?(i(),s("div",q,d(r.validationErrors.logo[0]),1)):n("",!0)])]),t("div",z,[e[7]||(e[7]=t("label",{class:"form-label"},"URL",-1)),a(m,{modelValue:r.createRetailerForm.url,"onUpdate:modelValue":e[1]||(e[1]=o=>r.createRetailerForm.url=o),modelModifiers:{trim:!0,lazy:!0},type:"url",placeholder:"Enter URL",required:""},null,8,["modelValue"]),r.validationErrors.url?(i(),s("div",T,d(r.validationErrors.url[0]),1)):n("",!0)]),t("div",D,[e[8]||(e[8]=t("label",{class:"form-label"},"Currency",-1)),a(g,{options:l.currencies,modelValue:r.createRetailerForm.currency_id,"onUpdate:modelValue":e[2]||(e[2]=o=>r.createRetailerForm.currency_id=o),name:"currency"},null,8,["options","modelValue"]),r.validationErrors.currency_id?(i(),s("div",G,d(r.validationErrors.currency_id[0]),1)):n("",!0)]),t("div",I,[a(p,{type:"submit",color:"primary",disabled:r.loading},{default:_(()=>[f(d(r.loading?"Creating...":"Create Retailer"),1)]),_:1},8,["disabled"]),a(p,{color:"secondary",class:"ms-2",onClick:e[3]||(e[3]=o=>l.$router.push("/retailers"))},{default:_(()=>e[9]||(e[9]=[f(" Cancel ")])),_:1})])],32)])])])])])}const Q=v(V,[["render",j]]);export{Q as default};
//# sourceMappingURL=Create-BHV1xZyu.js.map
