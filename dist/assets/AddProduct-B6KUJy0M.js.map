{"version":3,"file":"AddProduct-B6KUJy0M.js","sources":["../../src/views/retailer/AddProduct.vue"],"sourcesContent":["<script>\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\nimport { addProducts } from \"@/services/retailersService\";\n\nexport default {\n  name: \"RetailerProductsAdd\",\n  components: {\n    ArgonInput,\n    ArgonButton,\n  },\n  data() {\n    return {\n      productsToAdd: [{ id: null, url: \"\" }],\n      loading: false,\n      validationErrors: {},\n    };\n  },\n  computed: {\n    retailerId() {\n      return this.$route.params.id;\n    },\n  },\n  methods: {\n    addProduct() {\n      this.productsToAdd.push({\n        id: null,\n        url: \"\",\n      });\n    },\n\n    removeProduct(index) {\n      this.productsToAdd.splice(index, 1);\n    },\n\n    async handleCreate() {\n      this.loading = true;\n      this.validationErrors = {};\n\n      const res = await addProducts(this.retailerId, this.productsToAdd);\n\n      if (res.success) {\n        this.$router.push({ name: \"Retailers\" });\n        this.loading = false;\n      } else {\n        if (res.errors) {\n          this.validationErrors = res.errors;\n        }\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-md-8 mx-auto\">\n        <div class=\"card\">\n          <div class=\"card-header pb-0 text-center\">\n            <h6 class=\"text-primary\">Add Products to Retailer</h6>\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleCreate\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Products</label>\n                <div\n                  v-for=\"(product, index) in productsToAdd\"\n                  :key=\"index\"\n                  class=\"mb-2\"\n                >\n                  <div class=\"d-flex\">\n                    <div class=\"mb-3\">\n                      <argon-input\n                        v-model=\"product.id\"\n                        type=\"number\"\n                        placeholder=\"Product ID\"\n                        class=\"me-2\"\n                        required\n                      />\n\n                      <div\n                        v-if=\"validationErrors[`products.${index}.id`]\"\n                        class=\"text-danger\"\n                      >\n                        {{ validationErrors[`products.${index}.id`][0] }}\n                      </div>\n                    </div>\n                    <div class=\"mb-3\">\n                      <argon-input\n                        v-model.trim.lazy=\"product.url\"\n                        type=\"url\"\n                        placeholder=\"Product URL\"\n                        class=\"me-2\"\n                        required\n                      />\n\n                      <div\n                        v-if=\"validationErrors[`products.${index}.url`]\"\n                        class=\"text-danger\"\n                      >\n                        {{ validationErrors[`products.${index}.url`][0] }}\n                      </div>\n                    </div>\n\n                    <argon-button\n                      class=\"h-100\"\n                      color=\"danger\"\n                      :disabled=\"productsToAdd.length <= 1\"\n                      @click=\"removeProduct(index)\"\n                      type=\"button\"\n                      >Remove</argon-button\n                    >\n                  </div>\n                </div>\n                <argon-button color=\"primary\" @click=\"addProduct\" type=\"button\"\n                  >Add Product</argon-button\n                >\n              </div>\n              <div class=\"text-center\">\n                <argon-button type=\"submit\" color=\"primary\" :disabled=\"loading\">\n                  {{ loading ? \"Saving...\" : \"Save Products\" }}\n                </argon-button>\n                <argon-button\n                  color=\"secondary\"\n                  class=\"ms-2\"\n                  @click=\"$router.push(`/retailers/${retailerId}/products`)\"\n                >\n                  Cancel\n                </argon-button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","ArgonInput","ArgonButton","index","res","addProducts","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_12","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_Fragment","_renderList","$data","product","_createVNode","_component_argon_input","$event","_hoisted_9","_toDisplayString","_createCommentVNode","_hoisted_11","_component_argon_button","_withCtx","_createTextVNode","_ctx"],"mappings":"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"}