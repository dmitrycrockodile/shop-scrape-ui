{"version":3,"file":"Create-BHV1xZyu.js","sources":["../../src/views/retailer/Create.vue"],"sourcesContent":["<script>\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\nimport CurrencySelect from \"@/components/CurrencySelect.vue\";\n\nimport { createRetailer } from \"@/services/retailersService\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Retailer Create\",\n  components: {\n    ArgonInput,\n    ArgonButton,\n    CurrencySelect,\n  },\n  data() {\n    return {\n      createRetailerForm: {\n        title: \"\",\n        logo: \"\",\n        url: \"\",\n        currency_id: null,\n      },\n      loading: false,\n      validationErrors: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currencies: \"currencies/getCurrencies\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"retailers\", [\"addRetailer\"]),\n    async handleCreate() {\n      this.validationErrors = {};\n      const res = await createRetailer(\n        this.createRetailerForm,\n        this.$refs.logoFile.files[0]\n      );\n\n      if (res.success) {\n        this.addRetailer(res.data);\n        this.$router.push({ name: \"Retailers\" });\n      } else {\n        if (res.errors) {\n          this.validationErrors = res.errors;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-md-8 mx-auto w-75\">\n        <div class=\"card\">\n          <div class=\"card-header pb-0 text-center\">\n            <h6 class=\"text-primary\">Create Retailer</h6>\n          </div>\n\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleCreate\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Retailer Title</label>\n                <argon-input\n                  v-model.trim.lazy=\"createRetailerForm.title\"\n                  type=\"text\"\n                  placeholder=\"Enter retailer name\"\n                  required\n                />\n                <div v-if=\"validationErrors.title\" class=\"text-danger\">\n                  {{ validationErrors.title[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Logo</label>\n                <div>\n                  <img\n                    v-if=\"createRetailerForm.logo\"\n                    :src=\"createRetailerForm.logo\"\n                    alt=\"Current logo\"\n                    class=\"img-fluid mb-2\"\n                  />\n                  <input\n                    ref=\"logoFile\"\n                    type=\"file\"\n                    class=\"form-control\"\n                    accept=\"image/*\"\n                    placeholder=\"Upload a new logo\"\n                  />\n                  <div v-if=\"validationErrors.logo\" class=\"text-danger\">\n                    {{ validationErrors.logo[0] }}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">URL</label>\n                <argon-input\n                  v-model.trim.lazy=\"createRetailerForm.url\"\n                  type=\"url\"\n                  placeholder=\"Enter URL\"\n                  required\n                />\n                <div v-if=\"validationErrors.url\" class=\"text-danger\">\n                  {{ validationErrors.url[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3 w-25\">\n                <label class=\"form-label\">Currency</label>\n                <currency-select\n                  :options=\"currencies\"\n                  v-model=\"createRetailerForm.currency_id\"\n                  name=\"currency\"\n                />\n                <div v-if=\"validationErrors.currency_id\" class=\"text-danger\">\n                  {{ validationErrors.currency_id[0] }}\n                </div>\n              </div>\n\n              <div class=\"text-center\">\n                <argon-button type=\"submit\" color=\"primary\" :disabled=\"loading\">\n                  {{ loading ? \"Creating...\" : \"Create Retailer\" }}\n                </argon-button>\n                <argon-button\n                  color=\"secondary\"\n                  class=\"ms-2\"\n                  @click=\"$router.push('/retailers')\"\n                >\n                  Cancel\n                </argon-button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","ArgonInput","ArgonButton","CurrencySelect","mapGetters","mapActions","res","createRetailer","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_12","_hoisted_14","_hoisted_16","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_createVNode","_component_argon_input","$data","$event","_hoisted_7","_toDisplayString","_createCommentVNode","_hoisted_10","_hoisted_11","_hoisted_13","_component_currency_select","_ctx","_hoisted_15","_component_argon_button","_withCtx","_createTextVNode"],"mappings":"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"}