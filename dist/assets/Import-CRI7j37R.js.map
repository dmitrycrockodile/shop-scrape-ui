{"version":3,"file":"Import-CRI7j37R.js","sources":["../../src/views/product/Import.vue"],"sourcesContent":["<script>\nimport { uploadProductsCSV } from \"@/services/productsService\";\n\nexport default {\n  name: \"Product Import\",\n  data() {\n    return {\n      selectedFile: null,\n      errorMessage: \"\",\n      successMessage: \"\",\n    };\n  },\n  methods: {\n    handleFileSelection(event) {\n      this.selectedFile = event.target.files[0];\n      this.errorMessage = \"\";\n      this.successMessage = \"\";\n    },\n    async handleFileUpload() {\n      const formData = new FormData();\n      formData.append(\"file\", this.selectedFile);\n      const res = await uploadProductsCSV(formData);\n\n      if (!res.success) {\n        this.errorMessage = res.errors;\n        this.successMessage = \"\";\n      } else {\n        this.errorMessage = \"\";\n        this.successMessage = \"CSV imported successfully!\";\n      }\n\n      this.selectedFile = null;\n      this.$refs.fileInput.value = \"\";\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-md-8 mx-auto\">\n        <div class=\"card\">\n          <div class=\"card-header pb-3 d-flex align-items-start flex-column\">\n            <h6 class=\"pe-4\">Import the CSV file</h6>\n\n            <input\n              type=\"file\"\n              ref=\"fileInput\"\n              class=\"form-control mt-2\"\n              @change=\"handleFileSelection\"\n              accept=\".csv\"\n            />\n\n            <p v-if=\"selectedFile\" class=\"mt-2\">\n              Selected file: <strong>{{ selectedFile.name }}</strong>\n            </p>\n\n            <button class=\"btn btn-success mt-3\" @click=\"handleFileUpload\">\n              Upload CSV\n            </button>\n          </div>\n          <div class=\"card-body px-0 pt-0 pb-2 ps-4 pe-2\">\n            <div\n              v-if=\"errorMessage\"\n              class=\"alert alert-danger text-white\"\n              role=\"alert\"\n            >\n              {{ errorMessage }}\n            </div>\n\n            <div\n              v-if=\"successMessage\"\n              class=\"alert alert-success text-white\"\n              role=\"alert\"\n            >\n              {{ successMessage }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","event","formData","res","uploadProductsCSV","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","_openBlock","_createElementBlock","_createElementVNode","_cache","$options","args","$data","_hoisted_6","_createTextVNode","_toDisplayString","_createCommentVNode","_hoisted_8","_hoisted_9"],"mappings":"oIAGA,MAAKA,EAAU,CACb,KAAM,iBACN,MAAO,CACL,MAAO,CACL,aAAc,KACd,aAAc,GACd,eAAgB,EACjB,CACF,EACD,QAAS,CACP,oBAAoBC,EAAO,CACzB,KAAK,aAAeA,EAAM,OAAO,MAAM,CAAC,EACxC,KAAK,aAAe,GACpB,KAAK,eAAiB,EACvB,EACD,MAAM,kBAAmB,CACvB,MAAMC,EAAW,IAAI,SACrBA,EAAS,OAAO,OAAQ,KAAK,YAAY,EACzC,MAAMC,EAAM,MAAMC,EAAkBF,CAAQ,EAEvCC,EAAI,SAIP,KAAK,aAAe,GACpB,KAAK,eAAiB,+BAJtB,KAAK,aAAeA,EAAI,OACxB,KAAK,eAAiB,IAMxB,KAAK,aAAe,KACpB,KAAK,MAAM,UAAU,MAAQ,EAC9B,CACF,CACH,EAIOE,EAAA,CAAA,MAAM,kCAAkC,EACtCC,EAAA,CAAA,MAAM,KAAK,EACTC,EAAA,CAAA,MAAM,kBAAkB,EACtBC,EAAA,CAAA,MAAM,MAAM,EACVC,EAAA,CAAA,MAAM,uDAAuD,KA3C5E,IAAA,EAsDmC,MAAM,QAQ1BC,EAAA,CAAA,MAAM,oCAAoC,KA9DzD,IAAA,EAiEc,MAAM,gCACN,KAAK,YAlEnB,IAAA,EAyEc,MAAM,iCACN,KAAK,iCAnCjB,OAAAC,EAAA,EAAAC,EA2CM,MA3CNP,EA2CM,CA1CJQ,EAyCM,MAzCNP,EAyCM,CAxCJO,EAuCM,MAvCNN,EAuCM,CAtCJM,EAqCM,MArCNL,EAqCM,CApCJK,EAkBM,MAlBNJ,EAkBM,CAjBJK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,EAAyC,KAArC,CAAA,MAAM,MAAM,EAAC,sBAAmB,EAAA,GAEpCA,EAME,QAAA,CALA,KAAK,OACL,IAAI,YACJ,MAAM,oBACL,6BAAQE,EAAmB,qBAAAA,EAAA,oBAAA,GAAAC,CAAA,GAC5B,OAAO,kBAGAC,EAAY,cAArBN,IAAAC,EAEI,IAFJM,EAEI,CAxDhBJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAK,EAsDgD,kBACnB,GAAAN,EAAwC,SAAA,KAAAO,EAA7BH,EAAY,aAAC,IAAI,EAAA,CAAA,KAvDzDI,EAAA,GAAA,EAAA,EA0DYR,EAES,SAAA,CAFD,MAAM,uBAAwB,4BAAOE,EAAgB,kBAAAA,EAAA,iBAAA,GAAAC,CAAA,IAAE,cAE/D,IAEFH,EAgBM,MAhBNH,EAgBM,CAdIO,EAAY,kBADpBL,EAMM,MANNU,EAMMF,EADDH,EAAY,YAAA,EAAA,CAAA,GApE7BI,EAAA,GAAA,EAAA,EAwEoBJ,EAAc,oBADtBL,EAMM,MANNW,EAMMH,EADDH,EAAc,cAAA,EAAA,CAAA,GA5E/BI,EAAA,GAAA,EAAA"}