{"version":3,"file":"usersService-D4myv6ty.js","sources":["../../src/services/usersService.js"],"sourcesContent":["import axios from \"axios\";\nimport router from '../router/index';\nimport { handleResponse, handleError } from \"../utils/helpers\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nexport const fetchUsers = async () => {\n    try {\n        const res = await axios.get(`${BASE_API_URL}/users`);\n        return handleResponse(res);\n    } catch (err) {\n        return handleError(err);\n    }\n}\n\nexport const updateUser = async (data, id) => {\n    try {\n        const res = await axios.put(`${BASE_API_URL}/users/${id}`, data);\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const createUser = async (data) => {\n    try {\n        const res = await axios.post(`${BASE_API_URL}/users`, data);\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const deleteUser = async (id) => {\n    try {\n        const res = await axios.delete(`${BASE_API_URL}/users/${id}`)\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const revokeRetailers = async (id, retailerId) => {\n    try {\n        const res = await axios.post(`${BASE_API_URL}/users/${id}/revoke-retailers`, {\n            retailers: [{ id: retailerId }]\n        });\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const assignRetailers = async (id, data) => {\n    try {\n        const res = await axios.post(`${BASE_API_URL}/users/${id}/assign-retailers`, {\n            retailers: data\n        });\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}"],"names":["fetchUsers","res","axios","BASE_API_URL","handleResponse","err","handleError","updateUser","data","id","router","createUser","deleteUser","revokeRetailers","retailerId","assignRetailers"],"mappings":"oEAKY,MAACA,EAAa,SAAY,CAClC,GAAI,CACA,MAAMC,EAAM,MAAMC,EAAM,IAAI,GAAGC,CAAY,QAAQ,EACnD,OAAOC,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAOC,EAAYD,CAAG,CAC9B,CACA,EAEaE,EAAa,MAAOC,EAAMC,IAAO,CAC1C,GAAI,CACA,MAAMR,EAAM,MAAMC,EAAM,IAAI,GAAGC,CAAY,UAAUM,CAAE,GAAID,CAAI,EAE/D,OAAOJ,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBK,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEJ,EAAYD,CAAG,CAC9B,CACA,EAEaM,EAAa,MAAOH,GAAS,CACtC,GAAI,CACA,MAAMP,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,SAAUK,CAAI,EAE1D,OAAOJ,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBK,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEJ,EAAYD,CAAG,CAC9B,CACA,EAEaO,EAAa,MAAOH,GAAO,CACpC,GAAI,CACA,MAAMR,EAAM,MAAMC,EAAM,OAAO,GAAGC,CAAY,UAAUM,CAAE,EAAE,EAE5D,OAAOL,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBK,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEJ,EAAYD,CAAG,CAC9B,CACA,EAEaQ,EAAkB,MAAOJ,EAAIK,IAAe,CACrD,GAAI,CACA,MAAMb,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,UAAUM,CAAE,oBAAqB,CACzE,UAAW,CAAC,CAAE,GAAIK,CAAY,CAAA,CAC1C,CAAS,EAED,OAAOV,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBK,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEJ,EAAYD,CAAG,CAC9B,CACA,EAEaU,EAAkB,MAAON,EAAID,IAAS,CAC/C,GAAI,CACA,MAAMP,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,UAAUM,CAAE,oBAAqB,CACzE,UAAWD,CACvB,CAAS,EAED,OAAOJ,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBK,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEJ,EAAYD,CAAG,CAC9B,CACA"}