{"version":3,"file":"Edit-B_ewNUzV.js","sources":["../../src/views/user/Edit.vue"],"sourcesContent":["<script>\nimport { mapGetters, mapActions } from \"vuex\";\n\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport ArgonInput from \"@/components/ArgonInput.vue\";\n\nimport { updateUser } from \"@/services/usersService\";\n\nexport default {\n  name: \"User Edit\",\n  components: {\n    ArgonInput,\n    ArgonButton,\n  },\n  data() {\n    return {\n      updateUserForm: {\n        email: \"\",\n        name: \"\",\n        password: \"\",\n        location: \"\",\n      },\n      loading: false,\n      validationErrors: {},\n    };\n  },\n  computed: {\n    ...mapGetters(\"users\", [\"getUsers\"]),\n    userId() {\n      return this.$route.params.id;\n    },\n    selectedUser() {\n      return this.getUsers.find((user) => user.id == this.userId);\n    },\n  },\n  watch: {\n    selectedUser: {\n      immediate: true,\n      handler(newUser) {\n        if (newUser) {\n          this.updateUserForm = {\n            email: newUser.email,\n            name: newUser.name,\n            password: \"\",\n            location: newUser.location,\n          };\n        }\n      },\n    },\n  },\n  methods: {\n    ...mapActions(\"users\", [\"updateUser\"]),\n    async handleUpdate() {\n      this.validationErrors = {};\n      const res = await updateUser(this.updateUserForm, this.userId);\n\n      if (res.success) {\n        this.updateUser(res.data);\n        this.$router.push({ name: \"Users\" });\n      } else {\n        if (res.errors) {\n          this.validationErrors = res.errors;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"container-fluid py-4 flex-grow-1\">\n    <div class=\"row\">\n      <div class=\"col-lg-8 col-md-8 mx-auto\">\n        <div class=\"card\">\n          <div class=\"card-header pb-0 text-center\">\n            <h6 class=\"text-primary\">Edit User</h6>\n          </div>\n\n          <div class=\"card-body\">\n            <form @submit.prevent=\"handleUpdate\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Email</label>\n                <argon-input\n                  v-model.trim.lazy=\"updateUserForm.email\"\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  required\n                />\n                <div v-if=\"validationErrors.email\" class=\"text-danger\">\n                  {{ validationErrors.email[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Name</label>\n                <argon-input\n                  v-model.trim.lazy=\"updateUserForm.name\"\n                  type=\"text\"\n                  placeholder=\"Enter name\"\n                  required\n                />\n                <div v-if=\"validationErrors.name\" class=\"text-danger\">\n                  {{ validationErrors.name[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Password</label>\n                <argon-input\n                  v-model.trim.lazy=\"updateUserForm.password\"\n                  type=\"password\"\n                  placeholder=\"Enter password\"\n                />\n                <div v-if=\"validationErrors.password\" class=\"text-danger\">\n                  {{ validationErrors.password[0] }}\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Location</label>\n                <argon-input\n                  v-model.trim.lazy=\"updateUserForm.location\"\n                  type=\"text\"\n                  placeholder=\"Enter location\"\n                />\n                <div v-if=\"validationErrors.location\" class=\"text-danger\">\n                  {{ validationErrors.location[0] }}\n                </div>\n              </div>\n\n              <div class=\"text-center\">\n                <argon-button type=\"submit\" color=\"primary\" :disabled=\"loading\">\n                  {{ loading ? \"Updating...\" : \"Update User\" }}\n                </argon-button>\n                <argon-button\n                  color=\"secondary\"\n                  class=\"ms-2\"\n                  @click=\"$router.push('/users')\"\n                >\n                  Cancel\n                </argon-button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_main","ArgonInput","ArgonButton","mapGetters","user","newUser","mapActions","res","updateUser","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_14","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_createVNode","_component_argon_input","$data","$event","_hoisted_7","_toDisplayString","_createCommentVNode","_hoisted_9","_hoisted_11","_hoisted_13","_component_argon_button","_withCtx","_createTextVNode","_ctx"],"mappings":"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"}