{"version":3,"file":"retailersService-BhBbV2k4.js","sources":["../../src/services/retailersService.js"],"sourcesContent":["import axios from \"axios\";\nimport router from '../router/index';\nimport { handleResponse, handleError } from \"../utils/helpers\";\nimport { BASE_API_URL } from \"../utils/constants\";\n\nexport const updateRetailer = async (data, logo, id) => {\n    try {\n        const formData = new FormData();\n\n        formData.append('title', data.title);\n        formData.append('url', data.url);\n        formData.append('currency_id', data.currency_id);\n        formData.append('_method', 'put');\n\n        if (logo) {\n            formData.append('logo', logo);\n        }\n\n        const res = await axios.post(`${BASE_API_URL}/retailers/${id}`, formData);\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const createRetailer = async (data, logo) => {\n    try {\n        const formData = new FormData();\n\n        formData.append('title', data.title);\n        formData.append('url', data.url);\n        formData.append('currency_id', data.currency_id);\n        if (logo) {\n            formData.append('logo', logo);\n        }\n\n        const res = await axios.post(`${BASE_API_URL}/retailers`, formData);\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const deleteRetailer = async (id) => {\n    try {\n        const res = await axios.delete(`${BASE_API_URL}/retailers/${id}`)\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const getProducts = async (id, dataPerPage, page) => {\n    try {\n        const res = await axios.get(`${BASE_API_URL}/retailers/${id}/products`, {\n            params: { \n                dataPerPage, \n                page \n            }\n        })\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}\n\nexport const addProducts = async (id, products) => {\n    try {\n        const res = await axios.post(`${BASE_API_URL}/retailers/${id}/products`, {\n            products\n        });\n\n        return handleResponse(res);\n    } catch (err) {\n        if (err.response.status === 404) {\n            router.push({ name: 'notFound', params: { catchAll: 'not-found' } })\n        }\n        return handleError(err);\n    }\n}"],"names":["updateRetailer","data","logo","id","formData","res","axios","BASE_API_URL","handleResponse","err","router","handleError","createRetailer","deleteRetailer","getProducts","dataPerPage","page","addProducts","products"],"mappings":"+DAKY,MAACA,EAAiB,MAAOC,EAAMC,EAAMC,IAAO,CACpD,GAAI,CACA,MAAMC,EAAW,IAAI,SAErBA,EAAS,OAAO,QAASH,EAAK,KAAK,EACnCG,EAAS,OAAO,MAAOH,EAAK,GAAG,EAC/BG,EAAS,OAAO,cAAeH,EAAK,WAAW,EAC/CG,EAAS,OAAO,UAAW,KAAK,EAE5BF,GACAE,EAAS,OAAO,OAAQF,CAAI,EAGhC,MAAMG,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,cAAcJ,CAAE,GAAIC,CAAQ,EAExE,OAAOI,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBC,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEC,EAAYF,CAAG,CAC9B,CACA,EAEaG,EAAiB,MAAOX,EAAMC,IAAS,CAChD,GAAI,CACA,MAAME,EAAW,IAAI,SAErBA,EAAS,OAAO,QAASH,EAAK,KAAK,EACnCG,EAAS,OAAO,MAAOH,EAAK,GAAG,EAC/BG,EAAS,OAAO,cAAeH,EAAK,WAAW,EAC3CC,GACAE,EAAS,OAAO,OAAQF,CAAI,EAGhC,MAAMG,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,aAAcH,CAAQ,EAElE,OAAOI,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBC,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEC,EAAYF,CAAG,CAC9B,CACA,EAEaI,EAAiB,MAAOV,GAAO,CACxC,GAAI,CACA,MAAME,EAAM,MAAMC,EAAM,OAAO,GAAGC,CAAY,cAAcJ,CAAE,EAAE,EAEhE,OAAOK,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBC,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEC,EAAYF,CAAG,CAC9B,CACA,EAEaK,EAAc,MAAOX,EAAIY,EAAaC,IAAS,CACxD,GAAI,CACA,MAAMX,EAAM,MAAMC,EAAM,IAAI,GAAGC,CAAY,cAAcJ,CAAE,YAAa,CACpE,OAAQ,CACJ,YAAAY,EACA,KAAAC,CAChB,CACS,CAAA,EAED,OAAOR,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBC,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEC,EAAYF,CAAG,CAC9B,CACA,EAEaQ,EAAc,MAAOd,EAAIe,IAAa,CAC/C,GAAI,CACA,MAAMb,EAAM,MAAMC,EAAM,KAAK,GAAGC,CAAY,cAAcJ,CAAE,YAAa,CACrE,SAAAe,CACZ,CAAS,EAED,OAAOV,EAAeH,CAAG,CAC5B,OAAQI,EAAK,CACV,OAAIA,EAAI,SAAS,SAAW,KACxBC,EAAO,KAAK,CAAE,KAAM,WAAY,OAAQ,CAAE,SAAU,YAAe,CAAA,EAEhEC,EAAYF,CAAG,CAC9B,CACA"}