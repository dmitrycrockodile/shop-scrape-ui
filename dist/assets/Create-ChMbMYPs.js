import{_ as k,m as P,a as y,b as C,l as E,d as i,e as r,n as v,i as l,f as n,g as f,t as d,k as I,v as x,F,r as z,w as p,h as g,o as a}from"./index-Cm14stn1.js";import{P as V}from"./PackSizeSelect-dNUK-uB_.js";import{c as N}from"./productsService-2GV88327.js";const S={name:"Product Create",components:{ArgonInput:E,ArgonButton:C,PackSizeSelect:V},data(){return{createProductForm:{title:"",description:"",manufacturer_part_number:"",pack_size_id:null,images:[]},maxImages:5,newImages:[],loading:!1,validationErrors:{}}},methods:{...y("products",["addProduct"]),async handleCreate(){this.validationErrors={};const o=await N(this.createProductForm,this.newImages);o.success?(this.addProduct(o.data),this.$router.push({name:"Products"})):o.errors&&(this.validationErrors=o.errors)},handleFileChange(o,e){const _=o.target.files[0];_&&(this.newImages[e]=_)},addNewInputField(){this.newImages.length<this.maxImages&&this.newImages.push(null)},removeNewInputField(){this.newImages.length>0&&this.newImages.pop()},getPreviewUrl(o){return o&&window.URL?window.URL.createObjectURL(o):""}},computed:{...P({packSizes:"packSizes/getPackSizes"})}},U={class:"container-fluid py-4 flex-grow-1"},M={class:"row"},A={class:"col-lg-8 col-md-8 mx-auto"},B={class:"card"},L={class:"card-body"},R={class:"mb-3"},D={key:0,class:"text-danger"},T={class:"mb-3"},q={key:0,class:"text-danger"},j={class:"mb-3"},G={key:0,class:"text-danger"},O={class:"mb-3"},H={key:0,class:"text-danger"},J={class:"mb-3"},K={key:0,class:"text-danger"},Q=["onChange"],W={key:0},X=["src"],Y={key:1,class:"text-danger"},Z={class:"text-center"};function $(o,e,_,ee,t,m){const b=f("argon-input"),w=f("pack-size-select"),c=f("argon-button");return a(),i("div",U,[r("div",M,[r("div",A,[r("div",B,[e[14]||(e[14]=r("div",{class:"card-header pb-0 text-center"},[r("h6",{class:"text-primary"},"Create Product")],-1)),r("div",L,[r("form",{onSubmit:e[5]||(e[5]=v((...s)=>m.handleCreate&&m.handleCreate(...s),["prevent"]))},[r("div",R,[e[6]||(e[6]=r("label",{class:"form-label"},"Product Title",-1)),l(b,{modelValue:t.createProductForm.title,"onUpdate:modelValue":e[0]||(e[0]=s=>t.createProductForm.title=s),modelModifiers:{trim:!0,lazy:!0},type:"text",placeholder:"Enter product name",required:""},null,8,["modelValue"]),t.validationErrors.title?(a(),i("div",D,d(t.validationErrors.title[0]),1)):n("",!0)]),r("div",T,[e[7]||(e[7]=r("label",{class:"form-label"},"Description",-1)),I(r("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.createProductForm.description=s),class:"form-control",placeholder:"Enter product description"},null,512),[[x,t.createProductForm.description,void 0,{trim:!0,lazy:!0}]]),t.validationErrors.description?(a(),i("div",q,d(t.validationErrors.description[0]),1)):n("",!0)]),r("div",j,[e[8]||(e[8]=r("label",{class:"form-label"},"Manufacturer Part Number",-1)),l(b,{modelValue:t.createProductForm.manufacturer_part_number,"onUpdate:modelValue":e[2]||(e[2]=s=>t.createProductForm.manufacturer_part_number=s),modelModifiers:{trim:!0,lazy:!0},type:"text",placeholder:"Enter manufacturer part number",required:""},null,8,["modelValue"]),t.validationErrors.manufacturer_part_number?(a(),i("div",G,d(t.validationErrors.manufacturer_part_number[0]),1)):n("",!0)]),r("div",O,[e[9]||(e[9]=r("label",{class:"form-label"},"Pack Size",-1)),l(w,{options:o.packSizes,modelValue:t.createProductForm.pack_size_id,"onUpdate:modelValue":e[3]||(e[3]=s=>t.createProductForm.pack_size_id=s),name:"pack_size"},null,8,["options","modelValue"]),t.validationErrors.pack_size_id?(a(),i("div",H,d(t.validationErrors.pack_size_id[0]),1)):n("",!0)]),r("div",J,[e[10]||(e[10]=r("label",{class:"form-label"},"New Images",-1)),t.validationErrors.images?(a(),i("div",K,d(t.validationErrors.images[0]),1)):n("",!0),(a(!0),i(F,null,z(t.newImages,(s,u)=>(a(),i("div",{key:"new-"+u,class:"mb-3"},[r("input",{type:"file",class:"form-control",accept:"image/*",onChange:h=>m.handleFileChange(h,u)},null,40,Q),s?(a(),i("div",W,[r("img",{src:m.getPreviewUrl(s),alt:"New image preview",class:"img-thumbnail m-1 w-50",width:"100"},null,8,X)])):n("",!0),t.validationErrors[`images.${u}`]?(a(),i("div",Y,d(t.validationErrors[`images.${u}`][0]),1)):n("",!0)]))),128))]),l(c,{color:"primary",class:"mt-2 mb-4",onClick:v(m.addNewInputField,["prevent"]),disabled:t.newImages.length>=t.maxImages},{default:p(()=>e[11]||(e[11]=[g(" Add ")])),_:1},8,["onClick","disabled"]),l(c,{color:"primary",class:"mt-2 mb-4 ms-2",onClick:v(m.removeNewInputField,["prevent"]),disabled:t.newImages.length<=0},{default:p(()=>e[12]||(e[12]=[g(" Remove ")])),_:1},8,["onClick","disabled"]),r("div",Z,[l(c,{type:"submit",color:"primary",disabled:t.loading},{default:p(()=>[g(d(t.loading?"Creating...":"Create Product"),1)]),_:1},8,["disabled"]),l(c,{color:"secondary",class:"ms-2",onClick:e[4]||(e[4]=s=>o.$router.push("/products"))},{default:p(()=>e[13]||(e[13]=[g(" Cancel ")])),_:1})])],32)])])])])])}const oe=k(S,[["render",$]]);export{oe as default};
//# sourceMappingURL=Create-ChMbMYPs.js.map
