import{_ as v,m as y,c as $,a as w,b as k,d as i,e as t,F as x,r as C,g as p,o as a,t as r,f as u,h as n,j as h,i as f,w as m}from"./index-Cm14stn1.js";import{d as A}from"./productsService-2GV88327.js";import{P as D}from"./Pagination-DdaM27Q0.js";import{g as B}from"./retailersService-BhBbV2k4.js";const S={name:"ProductList",components:{ArgonButton:k},props:{products:Array},methods:{...w("products",["removeProduct"]),async handleDelete(e){(await A(e)).success&&this.removeProduct(e)},cutString:$},computed:{...y("auth",["isAdmin"])}},G={class:"container mt-4"},I={class:"row"},N={class:"card h-100 shadow-sm"},V={class:"card-header text-center"},z={class:"text-primary"},R={class:"card-body pb-0"},j={class:"text-center card-body__image card-body__img-container"},E=["src","alt"],F={class:"text-muted mt-4"},L={class:"list-group list-group-flush"},T={class:"list-group-item"},q={class:"list-group-item"},H={class:"text-muted"},J={class:"card-footer text-center"};function K(e,s,P,b,d,c){const l=p("argon-button");return a(),i("div",G,[t("div",I,[(a(!0),i(x,null,C(P.products,(o,_)=>(a(),i("div",{key:_,class:"col-lg-4 col-md-6 mb-4"},[t("div",N,[t("div",V,[t("h5",z,r(o.title),1)]),t("div",R,[t("div",j,[o.images.length?(a(),i("img",{key:0,src:o.images[0].file_url,class:"img-fluid rounded shadow-sm h-100",alt:o.file_name},null,8,E)):u("",!0)]),t("p",F,r(c.cutString(o.description,75)),1),t("ul",L,[t("li",T,[s[0]||(s[0]=t("strong",null,"Part #:",-1)),n(" "+r(o.manufacturer_part_number),1)]),t("li",q,[s[1]||(s[1]=t("strong",null,"Pack:",-1)),n(" "+r(o.pack_size.name)+" ",1),t("small",H,"("+r(o.pack_size.weight)+", "+r(o.pack_size.amount)+" units)",1)])])]),t("div",J,[e.isAdmin?(a(),h(l,{key:0,color:"primary",onClick:g=>e.$router.push({path:`products/${o.id}/edit`})},{default:m(()=>s[2]||(s[2]=[n("Edit")])),_:2},1032,["onClick"])):u("",!0),f(l,{color:"dark",onClick:g=>e.$router.push({path:`products/${o.id}/retailers`}),class:"ms-2"},{default:m(()=>s[3]||(s[3]=[n("Retailers")])),_:2},1032,["onClick"]),e.isAdmin?(a(),h(l,{key:1,color:"warning",onClick:g=>c.handleDelete(o.id),class:"ms-2"},{default:m(()=>s[4]||(s[4]=[n("Delete")])),_:2},1032,["onClick"])):u("",!0)])])]))),128))])])}const M=v(S,[["render",K],["__scopeId","data-v-2b19b706"]]),O={name:"Retailer Products",mounted(){this.handleGetProducts()},data(){return{products:[],pagination:[],page:1,dataPerPage:9}},components:{ProductDetails:M,ArgonButton:k,Pagination:D},computed:{retailerId(){return this.$route.params.id}},methods:{setPage(e){this.page=e},async handleGetProducts(){const e=await B(this.retailerId,this.dataPerPage,this.page);e.success&&(this.products=e.data,this.pagination=e.meta)}},watch:{page(){this.handleGetProducts()}}},Q={class:"pt-6 pb-4 flex-grow-1"},U={class:"card"},W={class:"card-header pb-3 d-flex align-items-center justify-content-between"},X={class:"card-body px-0 pt-0 pb-2"},Y={key:0,class:"ps-4"},Z={class:"table-responsive p-0"};function tt(e,s,P,b,d,c){const l=p("argon-button"),o=p("ProductDetails"),_=p("Pagination");return a(),i("div",Q,[t("div",U,[t("div",W,[s[2]||(s[2]=t("h6",{class:"pe-4"},"Retailer Products",-1)),f(l,{type:"submit",color:"primary",onClick:s[0]||(s[0]=g=>e.$router.push(`/retailers/${c.retailerId}/products/add`))},{default:m(()=>s[1]||(s[1]=[n(" Add Product ")])),_:1})]),t("div",X,[d.products.length?u("",!0):(a(),i("h6",Y," The products for this retailer are not provided ")),t("div",Z,[f(o,{products:d.products},null,8,["products"])]),d.pagination.last_page>1?(a(),h(_,{key:1,pagination:d.pagination,onSetPage:c.setPage},null,8,["pagination","onSetPage"])):u("",!0)])])])}const rt=v(O,[["render",tt]]);export{rt as default};
//# sourceMappingURL=Products-BBEzpR2-.js.map
