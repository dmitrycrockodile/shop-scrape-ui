import{_ as v,a as h,b,l as A,d,e as s,n as R,i,F as y,r as k,w as n,h as u,g,t as _,o as c,f as C}from"./index-Cm14stn1.js";import{a as x}from"./usersService-D4myv6ty.js";const V={name:"User Retailers Assign",components:{ArgonInput:A,ArgonButton:b},data(){return{retailersToAdd:[{id:null}],loading:!1,validationErrors:{}}},computed:{userId(){return this.$route.params.id}},methods:{...h("users",["updateUserRetailers"]),addRetailer(){this.retailersToAdd.push({id:null})},removeRetailer(t){this.retailersToAdd.splice(t,1)},async handleAssign(){this.loading=!0;const t=await x(this.userId,this.retailersToAdd);t.success?(this.updateUserRetailers({id:this.userId,retailers:t.data}),this.$router.push(`/users/${this.userId}/retailers`)):t.errors&&(this.validationErrors=t.errors),this.loading=!1}}},I={class:"container-fluid py-4 flex-grow-1"},T={class:"row"},w={class:"col-lg-6 col-md-8 mx-auto"},E={class:"card"},U={class:"card-body"},$={class:"mb-3"},B={class:"d-flex"},N={key:0,class:"text-danger"},S={class:"text-center"};function D(t,e,F,q,r,o){const f=g("argon-input"),l=g("argon-button");return c(),d("div",I,[s("div",T,[s("div",w,[s("div",E,[e[6]||(e[6]=s("div",{class:"card-header pb-0 text-center"},[s("h6",{class:"text-primary"},"Assign Retailers")],-1)),s("div",U,[s("form",{onSubmit:e[1]||(e[1]=R((...a)=>o.handleAssign&&o.handleAssign(...a),["prevent"]))},[s("div",$,[e[4]||(e[4]=s("label",{class:"form-label"},"Retailers",-1)),(c(!0),d(y,null,k(r.retailersToAdd,(a,m)=>(c(),d("div",{key:a,class:"mb-2"},[s("div",B,[i(f,{modelValue:a.id,"onUpdate:modelValue":p=>a.id=p,type:"number",placeholder:"Retailer ID",class:"me-2",required:""},null,8,["modelValue","onUpdate:modelValue"]),i(l,{class:"h-100",color:"danger",disabled:r.retailersToAdd.length<=1,onClick:p=>o.removeRetailer(m),type:"button"},{default:n(()=>e[2]||(e[2]=[u("Remove")])),_:2},1032,["disabled","onClick"])]),r.validationErrors[`retailers.${m}.id`]?(c(),d("div",N,_(r.validationErrors[`retailers.${m}.id`][0]),1)):C("",!0)]))),128)),i(l,{color:"primary",onClick:o.addRetailer,type:"button"},{default:n(()=>e[3]||(e[3]=[u("Add Retailer")])),_:1},8,["onClick"])]),s("div",S,[i(l,{type:"submit",color:"primary",disabled:r.loading},{default:n(()=>[u(_(r.loading?"Saving...":"Save Retailers"),1)]),_:1},8,["disabled"]),i(l,{color:"secondary",class:"ms-2",onClick:e[0]||(e[0]=a=>t.$router.push(`/retailers/${t.retailerId}/products`))},{default:n(()=>e[5]||(e[5]=[u(" Cancel ")])),_:1})])],32)])])])])])}const j=v(V,[["render",D]]);export{j as default};
//# sourceMappingURL=AssignRetailers-Ovgb6pyp.js.map
