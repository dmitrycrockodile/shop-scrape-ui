import{_ as U,a as _,m as b,b as g,l as y,d as l,e as o,n as E,i as a,f as m,g as c,t as i,w as f,h as v,o as d}from"./index-Cm14stn1.js";import{u as h}from"./usersService-D4myv6ty.js";const V={name:"User Edit",components:{ArgonInput:y,ArgonButton:g},data(){return{updateUserForm:{email:"",name:"",password:"",location:""},loading:!1,validationErrors:{}}},computed:{...b("users",["getUsers"]),userId(){return this.$route.params.id},selectedUser(){return this.getUsers.find(r=>r.id==this.userId)}},watch:{selectedUser:{immediate:!0,handler(r){r&&(this.updateUserForm={email:r.email,name:r.name,password:"",location:r.location})}}},methods:{..._("users",["updateUser"]),async handleUpdate(){this.validationErrors={};const r=await h(this.updateUserForm,this.userId);r.success?(this.updateUser(r.data),this.$router.push({name:"Users"})):r.errors&&(this.validationErrors=r.errors)}}},x={class:"container-fluid py-4 flex-grow-1"},w={class:"row"},F={class:"col-lg-8 col-md-8 mx-auto"},k={class:"card"},C={class:"card-body"},M={class:"mb-3"},N={key:0,class:"text-danger"},z={class:"mb-3"},B={key:0,class:"text-danger"},I={class:"mb-3"},A={key:0,class:"text-danger"},q={class:"mb-3"},S={key:0,class:"text-danger"},D={class:"text-center"};function G(r,e,L,P,s,u){const n=c("argon-input"),p=c("argon-button");return d(),l("div",x,[o("div",w,[o("div",F,[o("div",k,[e[11]||(e[11]=o("div",{class:"card-header pb-0 text-center"},[o("h6",{class:"text-primary"},"Edit User")],-1)),o("div",C,[o("form",{onSubmit:e[5]||(e[5]=E((...t)=>u.handleUpdate&&u.handleUpdate(...t),["prevent"]))},[o("div",M,[e[6]||(e[6]=o("label",{class:"form-label"},"Email",-1)),a(n,{modelValue:s.updateUserForm.email,"onUpdate:modelValue":e[0]||(e[0]=t=>s.updateUserForm.email=t),modelModifiers:{trim:!0,lazy:!0},type:"email",placeholder:"Enter email",required:""},null,8,["modelValue"]),s.validationErrors.email?(d(),l("div",N,i(s.validationErrors.email[0]),1)):m("",!0)]),o("div",z,[e[7]||(e[7]=o("label",{class:"form-label"},"Name",-1)),a(n,{modelValue:s.updateUserForm.name,"onUpdate:modelValue":e[1]||(e[1]=t=>s.updateUserForm.name=t),modelModifiers:{trim:!0,lazy:!0},type:"text",placeholder:"Enter name",required:""},null,8,["modelValue"]),s.validationErrors.name?(d(),l("div",B,i(s.validationErrors.name[0]),1)):m("",!0)]),o("div",I,[e[8]||(e[8]=o("label",{class:"form-label"},"Password",-1)),a(n,{modelValue:s.updateUserForm.password,"onUpdate:modelValue":e[2]||(e[2]=t=>s.updateUserForm.password=t),modelModifiers:{trim:!0,lazy:!0},type:"password",placeholder:"Enter password"},null,8,["modelValue"]),s.validationErrors.password?(d(),l("div",A,i(s.validationErrors.password[0]),1)):m("",!0)]),o("div",q,[e[9]||(e[9]=o("label",{class:"form-label"},"Location",-1)),a(n,{modelValue:s.updateUserForm.location,"onUpdate:modelValue":e[3]||(e[3]=t=>s.updateUserForm.location=t),modelModifiers:{trim:!0,lazy:!0},type:"text",placeholder:"Enter location"},null,8,["modelValue"]),s.validationErrors.location?(d(),l("div",S,i(s.validationErrors.location[0]),1)):m("",!0)]),o("div",D,[a(p,{type:"submit",color:"primary",disabled:s.loading},{default:f(()=>[v(i(s.loading?"Updating...":"Update User"),1)]),_:1},8,["disabled"]),a(p,{color:"secondary",class:"ms-2",onClick:e[4]||(e[4]=t=>r.$router.push("/users"))},{default:f(()=>e[10]||(e[10]=[v(" Cancel ")])),_:1})])],32)])])])])])}const H=U(V,[["render",G]]);export{H as default};
//# sourceMappingURL=Edit-B_ewNUzV.js.map
