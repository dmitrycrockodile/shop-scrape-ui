{"version":3,"file":"Products-BBEzpR2-.js","sources":["../../src/components/ProductDetails.vue","../../src/views/retailer/Products.vue"],"sourcesContent":["<script>\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport { deleteProduct } from \"@/services/productsService\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { cutString } from \"@/utils/helpers.js\";\n\nexport default {\n  name: \"ProductList\",\n  components: {\n    ArgonButton,\n  },\n  props: {\n    products: Array,\n  },\n  methods: {\n    ...mapActions(\"products\", [\"removeProduct\"]),\n    async handleDelete(id) {\n      const res = await deleteProduct(id);\n\n      if (res.success) {\n        this.removeProduct(id);\n      }\n    },\n    cutString,\n  },\n  computed: {\n    ...mapGetters(\"auth\", [\"isAdmin\"]),\n  },\n};\n</script>\n\n<template>\n  <div class=\"container mt-4\">\n    <div class=\"row\">\n      <div\n        v-for=\"(product, index) in products\"\n        :key=\"index\"\n        class=\"col-lg-4 col-md-6 mb-4\"\n      >\n        <div class=\"card h-100 shadow-sm\">\n          <div class=\"card-header text-center\">\n            <h5 class=\"text-primary\">{{ product.title }}</h5>\n          </div>\n          <div class=\"card-body pb-0\">\n            <div class=\"text-center card-body__image card-body__img-container\">\n              <img\n                v-if=\"product.images.length\"\n                :src=\"product.images[0].file_url\"\n                class=\"img-fluid rounded shadow-sm h-100\"\n                :alt=\"product.file_name\"\n              />\n            </div>\n\n            <p class=\"text-muted mt-4\">\n              {{ cutString(product.description, 75) }}\n            </p>\n\n            <ul class=\"list-group list-group-flush\">\n              <li class=\"list-group-item\">\n                <strong>Part #:</strong> {{ product.manufacturer_part_number }}\n              </li>\n              <li class=\"list-group-item\">\n                <strong>Pack:</strong> {{ product.pack_size.name }}\n                <small class=\"text-muted\"\n                  >({{ product.pack_size.weight }},\n                  {{ product.pack_size.amount }} units)</small\n                >\n              </li>\n            </ul>\n          </div>\n\n          <div class=\"card-footer text-center\">\n            <argon-button\n              v-if=\"isAdmin\"\n              color=\"primary\"\n              @click=\"$router.push({ path: `products/${product.id}/edit` })\"\n              >Edit</argon-button\n            >\n            <argon-button\n              color=\"dark\"\n              @click=\"\n                $router.push({ path: `products/${product.id}/retailers` })\n              \"\n              class=\"ms-2\"\n              >Retailers</argon-button\n            >\n            <argon-button\n              v-if=\"isAdmin\"\n              color=\"warning\"\n              @click=\"handleDelete(product.id)\"\n              class=\"ms-2\"\n              >Delete</argon-button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.list-group-item {\n  border: none;\n  background: transparent;\n}\n.card-body__image {\n  margin-top: -30px;\n}\n.card-body__img-container {\n  height: 250px !important;\n}\n</style>\n","<script>\nimport ProductDetails from \"@/components/ProductDetails.vue\";\nimport ArgonButton from \"@/components/ArgonButton.vue\";\nimport Pagination from \"@/components/Pagination.vue\";\nimport { getProducts } from \"@/services/retailersService\";\n\nexport default {\n  name: \"Retailer Products\",\n  mounted() {\n    this.handleGetProducts();\n  },\n  data() {\n    return {\n      products: [],\n      pagination: [],\n      page: 1,\n      dataPerPage: 9,\n      // isPageLoading: true,\n      // isProductsLoading: true,\n    };\n  },\n  components: {\n    ProductDetails,\n    ArgonButton,\n    Pagination\n  },\n  computed: {\n    retailerId() {\n      return this.$route.params.id;\n    },\n  },\n  methods: {\n    setPage(newPage) {\n      this.page = newPage;\n    },\n    async handleGetProducts() {\n      const res = await getProducts(\n        this.retailerId,\n        this.dataPerPage,\n        this.page\n      );\n\n      if (res.success) {\n        this.products = res.data;\n        this.pagination = res.meta;\n      }\n    },\n  },\n  watch: {\n    page() {\n      this.handleGetProducts();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"pt-6 pb-4 flex-grow-1\">\n    <div class=\"card\">\n      <div\n        class=\"card-header pb-3 d-flex align-items-center justify-content-between\"\n      >\n        <h6 class=\"pe-4\">Retailer Products</h6>\n\n        <argon-button\n          type=\"submit\"\n          color=\"primary\"\n          @click=\"$router.push(`/retailers/${retailerId}/products/add`)\"\n        >\n          Add Product\n        </argon-button>\n      </div>\n      <div class=\"card-body px-0 pt-0 pb-2\">\n        <h6 v-if=\"!products.length\" class=\"ps-4\">\n          The products for this retailer are not provided\n        </h6>\n        <div class=\"table-responsive p-0\">\n          <ProductDetails :products=\"products\" />\n        </div>\n\n        <Pagination v-if=\"pagination.last_page > 1\" :pagination=\"pagination\" @setPage=\"setPage\" />\n      </div>\n    </div>\n  </div>\n</template>"],"names":["_sfc_main","ArgonButton","mapActions","id","deleteProduct","cutString","mapGetters","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","$props","product","index","_toDisplayString","_createCommentVNode","$options","_cache","_createTextVNode","_ctx","_createBlock","_component_argon_button","_withCtx","_createVNode","$event","ProductDetails","Pagination","newPage","res","getProducts","$data","_component_ProductDetails","_component_Pagination"],"mappings":"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"}